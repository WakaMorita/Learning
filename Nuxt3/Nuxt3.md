[[_TOC_]]

 

# Nuxtとは

JavaScriptによるフロントエンド開発のフレームワークVueをベースに様々な機能を付け加えたフレームワーク

* Vueとそれぞれのモジュールの設定を別途記述しなくて済むようにワンパックにされている

 

#### Vue.jsとは

JavaScriptコード上の変数とDOM要素が自動的に連動するリアクティブシステムをコアに軽量で軽快な動作が特徴のフレームワーク

 

#### Vue３へのアップデート

2020年9月にバージョン3がリリースされる

ただしこれは本体のみで主要なモジュール類がバージョン3に対応してVueを作成するプロジェクトのデフォルトバージョンが3になったのは2022年7月

 

##### 新しいVueプロジェクト

* Vue Router

    * シングルページアプリケーションを手軽に実現できる

* Pinia

    * コンポーネント完横断でデータを管理できるステート管理モジュール

* Vitest Vue Test Utils

    * ユニットテストを容易にできる

 

##### Vue3の特徴

* TypeScriptの採用

    * JavaScriptがすべてTypeScriptで書き換えられている

    * 型システムを利用した開発が可能

    * VuexがPiniaに置き換わった

* CompositionAPIの採用

    * Script setupタグの利用でよりすっきりしたコードの記述が可能

* Viteの標準採用

    * Webpack利用時と比べてビルドが早くなり軽快に動作するようになった

 

## Nuxt３へのアップデート

* Vue3対応

### Nuxt3の主な機能

* ファイルシステムルーティング

* レイアウト

* ステート管理

* オートインポート

* データ取得関数

* エラー処理

* ミドルウェア

* サーバAPIエンドポイント

* レンダリングモードの切替

### Nuxt3の特徴

* ハイブリッドレンダリング：Hybrid Renderingへの対応

    * 以下レンダリングを混在させることができ、パスごとに選択できる

        * クライアントサイドレンダリング:CSRによるシングルページアプリケーションの作成に最適化されている

        * ユニバーサルレンダリング

        * 静的サイトジェネレーション：SSG

        * インクリメンタル静的ジェネレーション(vue3)：ISG

* サーバエンジンNitroの利用

    * ハイブリッドレンダリングの実現

    * API機能の実現(サーバミドルウェアが不要で簡単なコーディングで利用可能)

 

 

<details><summary>参考：Webアプリケーションの仕組みについて</summary>

 

```rb

■ サーバサイドWebアプリケーションの動き

画面に表示するHTMLデータの生成を全てサーバ上で行う

* ルートURLの表示

1. サーバへ"/"のリクエスト

2. サーバがHTMLデータ作成

3. 作成したHTMLデータをブラウザにレスポンスとして返す

4. ブラウザが受け取ったレスポンスをレンダリングする

* 別リンクの表示

1. サーバへリンク先パスのリクエスト

2. サーバがHTMLデータ作成

3. 作成したHTMLデータをブラウザにレスポンスとして返す

4. ブラウザが受け取ったレスポンスをレンダリングする

 

■ シングルページアプリケーションの動き

画面に表示するHTMLデータの生成、レンダリングのほとんどをブラウザ上で行う(クライアントサイドレンダリング　CSR)

* ルートURLの表示

1. サーバへ"/"のリクエスト

2. サーバがindex.htmlをブラウザにレスポンスとして返す

3. index.htmlを経由してJavaScriptファイルが読み込まれる

4. JavaScriptがHTMLデータの生成やレンダリングをする

* 別リンクの表示

1. JavaScriptがリンク先のHTMLデータの生成やレンダリングをする(データが必要な際はサーバにアクセスを行う)

```

</details>

 

<details><summary>参考：CSRの問題点とSSRとユニバーサルレンダリング</summary>

 

```rb

■ CSRの特徴

* 利点

1. ユーザビリティが良い

* 問題点

1. 初期ダウンロードに時間がかかる(全画面表示させる動作のためにアプリケーションそのものをダウンロードする必要がある)

2. SEO的に不利になる(インデックスされるまでに時間がかかるため)

 

■ サーバサイドレンダリング　SSR

サーバーサイドでもレンダリングを行う

 

■ ユニバーサルレンダリング：Universal Rendaring

クライアントサイドとサーバサイドの両方でレンダリングを行い分業するハイドレーション：Hydrationが行われる

CSRとSSRの良いとこどりができる

* ルートURLの表示

1. サーバへ"/"のリクエスト

2. サーバがJavaScriptでレンダリングしindex.htmlとレンダリングデータをブラウザにレスポンスとして返す

3. index.htmlを経由してJavaScriptファイルが読み込まれる

4. JavaScriptがHTMLデータの生成やレンダリングをする(クライアントサイドで動作が必要なもの)

* 別リンクの表示

1. サーバへ"リンクパス"のリクエスト

2. サーバがJavaScriptでレンダリングしHTMLとレンダリングデータをブラウザにレスポンスとして返す

3. HTMLを経由してJavaScriptファイルが読み込まれる

4. JavaScriptがHTMLデータの生成やレンダリングをする(クライアントサイドで動作が必要なもの)

* 問題点

1.表示速度がHTMLのみの場合と比べて遅い　→　静的サイトジェネレーション：Static Site Generationで一部対応可能

                                     →　インクリメンタル静的ジェネレーション：Incremental Static Generation 対応可能

```

</details>

<details><summary>参考：SSGとISG</summary>

 

```rb

■ 静的サイトジェネレーション　Static Site Generation

* ユーザ操作によって表示が変わらないページの場合にVueアプリケーションが事前に用意しておいたHTMLデータを返すのみ

(ただし、表示内容がほぼ変化しないものという制約がある)

 

■ インクリメンタル静的ジェネレーション Incremental Static Generation

* キャッシュしておいたHTMLデータを返すのみ

* ルートURLの表示

1. サーバへ"/"のリクエスト

2. サーバがキャッシュされたhtmlファイルをレスポンスとして返す

3. 表示内容に変更がある場合バックグラウンドでhtmlを生成しキャッシュしておく

* 別リンクの表示

1. サーバへ"リンクパス"のリクエスト

2. サーバがキャッシュされたhtmlファイルをレスポンスとして返す

3. 表示内容に変更がある場合バックグラウンドでhtmlを生成しキャッシュしておく

```

</details>